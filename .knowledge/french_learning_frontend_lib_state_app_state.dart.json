{"is_source_file": true, "format": "Dart", "description": "This file defines the central application state for a Flutter-based language learning app. It manages vocabulary, phrases, user preferences (favorites and learned items), and quiz functionality. The class extends ChangeNotifier for state management and persists data using SharedPreferences.", "external_files": ["dart:math", "package:flutter/foundation.dart", "package:shared_preferences/shared_preferences.dart", "../models/vocab_item.dart", "../models/phrase_item.dart"], "external_methods": ["SharedPreferences.getInstance", "SharedPreferences.getStringList", "SharedPreferences.setStringList"], "published": ["AppState"], "classes": [{"name": "AppState", "description": "Manages application state including vocabulary, phrases, user preferences, and quiz logic, utilizing ChangeNotifier for reactive updates."}, {"name": "_QuizQuestion", "description": "Internal class representing a quiz question used to generate and evaluate quiz items."}, {"name": "QuizQuestionView", "description": "Public-facing immutable view class for representing quiz questions to the UI."}], "methods": [{"name": "_init", "description": "Initializes SharedPreferences, loads saved favorites and learned items, and generates the quiz questions list."}, {"name": "_save", "description": "Persists favorites and learned items to SharedPreferences."}, {"name": "toggleFavorite", "description": "Adds or removes an item from the favorites set."}, {"name": "toggleLearned", "description": "Adds or removes an item from the learned set."}, {"name": "restartQuiz", "description": "Resets quiz state and regenerates quiz questions."}, {"name": "answer", "description": "Records user's answer to current quiz question, updates score if correct."}, {"name": "nextQuestion", "description": "Advances to the next quiz question, if available."}, {"name": "currentQuestion", "description": "Provides a view of the current quiz question with prompt, options, and correct answer."}, {"name": "_generateQuiz", "description": "Generates a randomized list of quiz questions (up to 10), with distractors."}], "calls": ["Random()", "min()", "notifyListeners()", "setStringList()", "getStringList()", "SharedPreferences.getInstance()"], "search-terms": ["AppState", "SharedPreferences", "quizQuestions", "vocabulary", "phrases", "toggleFavorite", "toggleLearned", "generateQuiz"], "state": 2, "file_id": 22, "knowledge_revision": 72, "git_revision": "3d4b057e77ba6638b0654dafc9588686550d2679", "revision_history": [{"48": ""}, {"64": "e828a0570eb40243ee1938aae75885e8a74f6fdc"}, {"65": "e828a0570eb40243ee1938aae75885e8a74f6fdc"}, {"66": "e828a0570eb40243ee1938aae75885e8a74f6fdc"}, {"69": "e828a0570eb40243ee1938aae75885e8a74f6fdc"}, {"70": "3d4b057e77ba6638b0654dafc9588686550d2679"}, {"72": "3d4b057e77ba6638b0654dafc9588686550d2679"}], "hash": "985cd208929a863aff064ea03bf5f695", "format-version": 4, "code-base-name": "french_learning_frontend", "filename": "french_learning_frontend/lib/state/app_state.dart"}